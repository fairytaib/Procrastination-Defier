{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block title %}
    {{post.title}}
{% endblock %}
{% block css %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
{% endblock %}

{% block content %}
<a href="{% url 'blog_posts' %}"><i class="bi bi-arrow-left-circle-fill"></i></a>
<h1>{{ post.title }}</h1>
<p>{{ post.content }}</p>
<h2>Comments</h2>
{% for comment in comments %}
    <div class="comment">
        <p><strong>{{ comment.author.username }}</strong>: {{ comment.content }} <i>{{ comment.created_at }}</i></p>
    </div>
{% endfor %}
{% if user.is_authenticated %}
    <div>
        <form method="POST">
            {% csrf_token %}
            {{ form|crispy }}
            <button type="submit" class="btn btn-primary">Post comment</button>
        </form>
    </div>
{% endif %}

{% endblock %}